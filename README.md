# integration-bi-migration-assistant

## Table of Contents
- [Overview](#overview)
- [Setting Up the Prerequisites](#setting-up-the-prerequisites)
- [Building the Source](#building-the-source)
- [Running the Migration Tool](#running-the-migration-tool)
- [Mule Version Support](#mule-version-support)
- [DataWeave Transformations](#dataweave-transformations)
- [Supported Mule Components](#supported-mule-components)
- [Sample Input and Output](#sample-input-and-output)

## Overview
The integrator-bi-migration-assistant is a comprehensive tool designed to convert Mule XML configuration files into Ballerina code. It facilitates the migration of Mule applications to Ballerina by automating the conversion process. The tool reads Mule XML configuration files and generates equivalent Ballerina code, ensuring a seamless transition with minimal manual effort.

## Setting Up the Prerequisites

1. Download and install Java SE Development Kit (JDK) version 21 (from one of the following locations).
   * [Oracle](https://www.oracle.com/java/technologies/downloads/)
   * [OpenJDK](http://openjdk.java.net/install/index.html)

2. Generate a GitHub access token with read package permissions, then set the following `env` variables:

    ```shell
   export packageUser=<Your GitHub Username>
   export packagePAT=<GitHub Personal Access Token>
   ```

## Building the Source

Execute the commands below to build from source.

1. To build the package:

   ```bash
   ./gradlew clean build
   ```

2. To run the tests:

   ```bash
   ./gradlew clean test
   ```

3. To build without the tests:

   ```bash
   ./gradlew clean build -x test
   ```

## Running the Migration Tool

First, build the project to create the `build/libs/mule-to-ballerina-migration-assistant.jar` file.

To run the migration tool, use the following command:

```sh
java -jar build/libs/mule-to-ballerina-migration-assistant.jar <mule-xml-config-file-or-project-directory>
```

**Parameters:**
- `<mule-xml-config-file-or-project-directory>`: Path to the Mule XML configuration file or the Mule project directory to be converted.

**Output:**
- **Mule XML Config File**: A standalone `.bal` file is generated with the same name as the input file but with a `.bal` extension. This file is located in the same directory as the input file.
- **Mule Project Directory**: A new Ballerina package is created with the same name as the input project directory, appended with a `-ballerina` suffix. This new package is located inside the given project directory path, and a `.bal` file is created for each Mule XML file within the project.

## Mule Version Support
For now, Mule 3.x is supported. Support for Mule 4.x is expected to be added later.

## Supported Mule Components
(This section is AUTO-GENERATED by the test suite)

The migration tool currently supports the following Mule components:

- [Catch Exception Strategy](SAMPLES.md#catch-exception-strategy)
- [Database](SAMPLES.md#database)
- [Flow](SAMPLES.md#flow)
- [Http Listener](SAMPLES.md#http-listener)
- [Logger](SAMPLES.md#logger)
- [Message Enricher](SAMPLES.md#message-enricher)
- [Object To Json](SAMPLES.md#object-to-json)
- [Object To String](SAMPLES.md#object-to-string)
- [Session Variable](SAMPLES.md#session-variable)
- [Set Payload](SAMPLES.md#set-payload)
- [Sub Flow](SAMPLES.md#sub-flow)
- [Transform Message](SAMPLES.md#transform-message)
- [Variable](SAMPLES.md#variable)

## DataWeave Transformations
(This section is AUTO-GENERATED by the test suite)

The following DataWeave transformations and their corresponding Ballerina implementations are documented:

- [Concat Array Expression](Dataweave_samples.md#concat-array-expression)
- [Concat Object Expression](Dataweave_samples.md#concat-object-expression)
- [Concat String Expression](Dataweave_samples.md#concat-string-expression)
- [Date Type Expression](Dataweave_samples.md#date-type-expression)
- [Filter Value Identifier Expression](Dataweave_samples.md#filter-value-identifier-expression)
- [Lower Expression](Dataweave_samples.md#lower-expression)
- [Map Combination Expression](Dataweave_samples.md#map-combination-expression)
- [Map Index Identifier Expression](Dataweave_samples.md#map-index-identifier-expression)
- [Map Index Identifier Only Expression](Dataweave_samples.md#map-index-identifier-only-expression)
- [Map Value Identifier Expression](Dataweave_samples.md#map-value-identifier-expression)
- [Replace With Expression](Dataweave_samples.md#replace-with-expression)
- [Single Selector Expression](Dataweave_samples.md#single-selector-expression)
- [Sizeof Expression](Dataweave_samples.md#sizeof-expression)
- [String Return Expression](Dataweave_samples.md#string-return-expression)
- [Upper Expression](Dataweave_samples.md#upper-expression)
- [When Otherwise Expression](Dataweave_samples.md#when-otherwise-expression)
- [When Otherwise Nested Expression](Dataweave_samples.md#when-otherwise-nested-expression)

## Sample Input and Output

For detailed sample input and output files, please refer to the [SAMPLES.md](SAMPLES.md) file.

